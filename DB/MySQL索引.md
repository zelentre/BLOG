---
title: MySQL索引
date: 2022-03-07 18:28:26
categories: 
 - DB
 - MySQL
tags: 
 - MySQL索引
---
# MySQL索引

> **索引是对数据库表中一列或多列的值进行排序的一种结构。MySQL索引的建立对于MySQL的高效运行是很重要的，索引可以大大提高MySQL的检索速度。**索引只是提高效率的一个因素，如果你的MySQL有大数据量的表，就需要花时间研究建立最优秀的索引，或优化查询语句。
>
> 📌简单类比一下，数据库如同书籍，索引如同数据目录，假如我们需要从书籍查找与xx相关的内容，我们可以直接从目录中查找，定位到xx内容所在页面，如果目录中没有xx相关字符或者没有设置目录（索引），那就只能逐字逐页阅读文本查找，效率可想而知。

## 1. 索引的优缺点

> 索引可以大大提高MySQL的检索速度，为什么不对表中的每一个列创建一个索引呢？

### 1.1. 优点

- **索引大大减小了服务器需要扫描的数据量，从而大大加快数据的检索速度，这也是创建索引的最主要原因**
-   **索引可以帮助服务器避免排序和创建临时表**
- **索引可以将随机IO变成顺序IO**
- 索引可以对于InnoDB（对索引支持行级锁）非常重要，因为它可以让查询锁更少的元组，提高了表访问并发性
- 关于InnoDB、索引和锁：InnoDB在二级索引上使用共享锁（读锁），但访问主键索引需要排他锁（写锁）
- 通过创建唯一性索引，可以保证数据库表中每一行数据的唯一性
- 可以加速表与表之间的连接，特别是在实现数据的参考完整性方面特别有意义
- 在使用分组和排序子句进行数据检索时，同样可以显著减少查询中分组和排序的时间
- 通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能

### 1.2. 缺点
- 创建索引和维护索引要**消耗时间**，这种时间随着数据量的增加而增加
- 索引需要占**物理空间**，除了数据表占用数据空间之外，每一个索引还要占用一定的物理空间，如果需要建立聚簇索引，那么需要占用的空间会更大
- 对表中的数据进行增、删、改的时候，索引也要动态的维护，这就降低了整数的维护速度
-  如果某个数据列包含许多重复的内容，为它建立索引就没有太大的实际效果
- 对于非常小的表，大部分情况下建单的全表扫描更高效
## 2. 创建索引准则
> 索引是建立在数据库表中的某些列的上面。因此，在创建索引的时候，应该仔细考虑在那些列上可以创建索引，在那些列上不能创建索引。
